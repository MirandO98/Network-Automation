import paramiko

def gather_info(device_ip, username, password, commands):
    try:
        ssh = paramiko.SSHClient()
        ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
        ssh.connect(device_ip, username=username, password=password, timeout=10)

        results = {}

        for command in commands:
            stdin, stdout, stderr = ssh.exec_command(command)
            output = stdout.read().decode("utf-8")
            results[command] = output

        return results
    except Exception as e:
        return str(e)
    finally:
        ssh.close()

if __name__ == "__main__":
    devices = [
        {"ip": "192.168.1.1", "username": "your_username", "password": "your_password"},
        # Add more devices here
    ]

    show_commands = [
        "show version",
        "show interfaces"
        "show ip bgp summary",
        # Add more show commands here
    ]

    for device in devices:
        results = gather_info(device["ip"], device["username"], device["password"], show_commands)
        print(f"Results for {device['ip']}:\n")
        for command, output in results.items():
            print(f"Command: {command}\n{output}\n{'='*40}\n")
